<div class="row">
	<div class="span12">
		<div class="alert">
			<button type="button" class="close" data-dismiss="alert">&times;</button>
			<strong>Welcome!</strong> Please <a href="/cart">sign in</a> to <a href="/cart">check out</a>
		</div>
	</div>
</div>


<div class="row" ng-switch="theCart.cart.length">
	<div class="span12" ng-switch-when="0">
		<div class="alert alert-error">
			<strong>Empty Cart</strong> Go <a href="http://upstreamacademy.com/">shopping</a> or <a href="/payment">make a payment</a>
		</div>
	</div>

	<table class="table table-striped table-hover span12" ng-switch-default>
		<thead>
			<tr>
				<th>Name</th>
				<th>Cost</th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="item in theCart.cart" ng-class="{true:'error', false:''}[item.warn]">
				<td ng-switch="!item.url">
					<div ng-switch="item.cost.name" ng-show="item.hasOptions" class="pull-right">
						<div ng-switch-when="Conference" ng-switch="item.cost.set">
							<a href="/conference/{{item.itemID}}" ng-switch-when="false" class="btn btn-warning btn-mini">Select Attendees</a>
							<a href="/conference/{{item.itemID}}" ng-switch-default class="btn btn-info btn-mini">Edit Attendees</a>
						</div>
						<div ng-switch-when="Hardcopy">
							<label for="hardcopy">
								<input type="checkbox" ng-model="item.options" name="hardcopy" id="hardcopy" ng-change="theCart.setOption(item.itemID, item.options);" />
								&nbsp;Add a hard copy for an additional $50?
							</label>
						</div>
						<div ng-switch-default ng-switch="item.cost.set">
							<a href="/conference/{{item.itemID}}" ng-switch-when="false" class="btn btn-warning btn-mini">Set Options</a>
							<a href="/conference/{{item.itemID}}" ng-switch-default class="btn btn-info btn-mini">Edit Options</a>
						</div>
						<!-- <pre>{{item.cost.name}}</pre> -->
					</div>

					<span ng-show="item.expired" class="text-error">Expired:&nbsp;</span>
					<span ng-switch-when="true">{{item.name}}</span>
					<a ng-switch-default ng-href="{{item.url}}">{{item.name}}</a>

					<span ng-show="item.desc" class="muted"><br/>{{item.desc}}</span>
				</td>
				<td>
					<span>{{item.cost.value | currency}}</span>
					<span ng-show="item.cost.fullValue">&nbsp;&nbsp;
						<del class="text-error">&nbsp;{{item.cost.fullValue | currency}}&nbsp;</del>&nbsp;
						<span class="muted">{{item.cost.reason}} Pricing</span>
					</span>
					<a href ng-click="theCart.rem(item)" role="button" class="close">&times;</a>
				</td>
			</tr>
		</tbody>
		<tfoot>
			<tr>
				<th><span class="pull-right">Total:</span></th>
				<th><span>{{theCart.total() | currency}}</span></th>
			</tr>
		</tfoot>
	</table>
</div>

<!-- START DEV -->
<pre>{{theCart.cart | json}}</pre>
<!-- END DEV -->