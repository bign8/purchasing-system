<div class="row">
	<div class="col-md-offset-1 col-md-10">

		<div class="form-group clearfix">
			<div class="btn-group btn-group-sm col-sm-2 hidden-xs">
				<a type="button" class="btn btn-default" ng-class="{active:!showAsList}" ng-click="showAsList=false">
					<span class="glyphicon glyphicon-th-large"></span>
				</a>
				<a type="button" class="btn btn-default" ng-class="{active:showAsList}" ng-click="showAsList=true">
					<span class="glyphicon glyphicon-list"></span>
				</a>
			</div>

			<div class="input-group col-sm-5 col-sm-offset-1">
				<span class="input-group-addon">Search: </span>
				<input class="form-control input-sm" id="query" ng-model="query" />
			</div>

			<div class="col-md-3 col-sm-4 pull-right hidden-xs">
				<div class="input-group " ng-hide="filteredProducts.length < 10">
					<span class="input-group-addon">Page Size: </span>
					<select ng-model="pageSize" class="form-control input-sm">
						<option value="12">12</option>
						<option value="30">30</option>
						<option value="60">60</option>
						<option value="120">120</option>
					</select>
				</div>
			</div>
		</div>

		<div ng-switch on="showAsList">

			<!-- Display in blocks -->
			<div ng-switch-when="false" class="row">
				<div class="col-sm-6 col-md-4" ng-repeat="product in $parent.filteredProducts = (products | filter:{name:query, desc:query} | orderBy:sortField:reverse) | pagination:pageNo:pageSize">
					<div class="thumbnail">
						<img ng-src="{{product.pic}}" alt="...">
						<div class="caption">
							<h3>{{product.name}} <small>{{product.cost | currency}}</small></h3>
							<p>{{product.desc}}</p>
							<div>
								<a ng-href="#/products/{{product.productID}}" class="btn btn-default" role="button">View Details</a>
								<a ng-click="myCart.add(product)" ng-hide="myCart.contains(product)" class="btn btn-primary pull-right" role="button">Add to Cart</a>
							</div>
						</div>
					</div>
				</div>
			</div>

			<!-- Display in rows -->
			<table class="table table-striped table-hover" ng-switch-default>
				<thead>
					<tr>
						<th ng-click="sort('name')">
							Name <span class="glyphicon {{sortIcon('name')}}"></span>
						</th>
						<th ng-click="sort('desc')">
							Description <span class="glyphicon {{sortIcon('desc')}}"></span>
						</th>
						<th>Cost</th>
						<th>Add to Cart</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="product in  $parent.filteredProducts = (products | filter:{name:query, desc:query} | orderBy:sortField:reverse) | pagination:pageNo:pageSize">
						<td><a href="#/products/{{product.link}}">{{product.name}}</a></td>
						<td>{{product.desc}}</td>
						<td>{{product.cost | currency}}</td>
						<td><a ng-click="myCart.add(product)" ng-hide="myCart.contains(product)">Add to Cart</a></td>
					</tr>
				</tbody>
			</table>

		</div>

		<div class="pull-right" style="margin-top:20px">
			<label>Total:</label> {{filteredProducts.length}}
			<span ng-hide="filteredProducts.length == products.length"> of {{products.length}}</span>
		</div>

		<pagination boundary-links="true" total-items="filteredProducts.length" page="pageNo" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;" items-per-page="pageSize" max-size="5"></pagination>

		
	</div>
</div>
