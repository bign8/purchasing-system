<div class="row">
	<div class="offset0 span12">

		<div class="form-group row-fluid">
			<div class="btn-group span2 hidden-phone">
				<a type="button" class="btn btn-default" ng-class="{active:!showAsList}" ng-click="showAsList=false">
					<span class="icon-th-large"></span>
				</a>
				<a type="button" class="btn btn-default" ng-class="{active:showAsList}" ng-click="showAsList=true">
					<span class="icon-list"></span>
				</a>
			</div>

			<div class="input-prepend offset2 span5 pull-left">
				<span class="add-on">Search: </span>
				<input type="text" id="query" ng-model="query" style="width:auto" />
			</div>

			<div class=" hidden-phone offset1 span2">
				<div class="input-prepend" ng-hide="filteredProducts.length < 12">
					<span class="add-on">Page Size: </span>
					<select ng-model="pageSize" style="width:auto">
						<option value="12">12</option>
						<option value="30">30</option>
						<option value="60">60</option>
						<option value="120">120</option>
					</select>
				</div>
			</div>
		</div>

		<div ng-switch on="showAsList">

			<!-- Display in blocks -->
			<ul ng-switch-when="false" class="row thumbnails">
				<li class="span4" ng-repeat="item in $parent.filteredProducts = (items | filter:{name:query, description:query} | orderBy:sortField:reverse) | pagination:pageNo:pageSize">
					<div class="thumbnail">
						<img ng-src="{{item.img}}" alt="...">
						<div class="caption">
							<h3>{{item.name}} <small>{{item.cost.pretty}}</small></h3>
							<p>{{item.description}}</p>
							<div>
								<a ng-href="#/products/{{item.productID}}/{{item.itemID}}" class="btn btn-default" role="button">Details</a>
								<a ng-click="myCart.add(item)" ng-hide="myCart.contains(item)" class="btn btn-primary pull-right" role="button">Add to Cart</a>
							</div>
						</div>
					</div>
				</li>
			</ul>

			<!-- Display in rows -->
			<table class="table table-striped table-hover" ng-switch-default>
				<thead>
					<tr>
						<th ng-click="sort('name')">
							Name <span class="{{sortIcon('name')}}"></span>
						</th>
						<th ng-click="sort('description')">
							Description <span class="{{sortIcon('description')}}"></span>
						</th>
						<th ng-click="sort('cost')">
							Cost <span class="{{sortIcon('cost')}}">
						</th>
						<th>Add to Cart</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="item in  $parent.filteredProducts = (items | filter:{name:query, description:query} | orderBy:sortField:reverse) | pagination:pageNo:pageSize">
						<td><a href="#/products/{{item.productID}}/{{item.itemID}}">{{item.name}}</a></td>
						<td>{{item.description}}</td>
						<td>{{item.cost.pretty}}</td>
						<td><a ng-click="myCart.add(item)" ng-hide="myCart.contains(item)">Add to Cart</a></td>
					</tr>
				</tbody>
			</table>

		</div>

		<div class="pull-right" style="margin-top:20px">
			Total: {{filteredProducts.length}}
			<span ng-hide="filteredProducts.length == items.length"> of {{items.length}}</span>
		</div>

		<pagination boundary-links="true" total-items="filteredProducts.length" page="pageNo" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;" items-per-page="pageSize" max-size="5" style="text-align:center" ng-hide="totalPages == 1"></pagination>

		<!-- <pre>{{items | json}}</pre> -->

	</div>
</div>
